{% extends '_base.html' %}
{% load static %}

{% block content %}
  <section class="container mx-auto my-10 w-full md:container md:px-4 lg:max-w-6xl">
    <h3 class="text-lg text-accent-color font-bold tracking-wider text-center uppercase">Data Bendung</h3>
    <div class="w-full mt-7 grid grid-cols-1 lg:grid-cols-3 gap-6 place-content-center">
      {% for item in bendung %}
        <div class="card w-full h-fit lg:max-w-sm">
          <div class="card-body p-0 h-full w-full">
            {% comment %}Top{% endcomment %}
            <img src="{{ item.file_foto.url }}" class="w-full h-[280px] object-cover transition-all duration-200 hover:scale-105 ease-in-out" alt="" />
            {% comment %}content{% endcomment %}
            <div class="px-4 pb-3 my-2 flex flex-col gap-2 w-full">
              <h3 class="text-primary-color font-semibold uppercase">{{ item.nama_bendung }}</h3>
              <p class="text-primary-color/75 font-semibold">Status Kepemilikan: {{ item.status_kepemilikan_aset }}</p>

              <div class="flex justify-between w-full items-center">
                <p class="text-primary-color/75">Debit: {{ item.debit }}</p>
                <a href="{% url 'detailBendung' item.pk %}" class="px-4 py-1.5 transition-all duration-300 ease-out hover:bg-primary-color hover:text-white hover:shadow-lg font-medium bg-secondary-color rounded-2xl shadow-md">Selengkapnya</a>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </section>

  {% comment %}Datat Embung{% endcomment %}
  <section class="w-full bg-secondary-color my-10 py-4">
    <div class="mx-auto w-full md:container md:px-4 lg:max-w-6xl bg-secondary-color">
      <h3 class="text-lg text-accent-color font-bold tracking-wider text-center uppercase">Data Embung</h3>
      <div class="md:w-full mt-7 md:grid md:justify-center">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-y-8 gap-x-6 px-4 lg:px-0">
          {% for item in embung %}
            <div class="card w-full rounded-2xl h-[190px] lg:max-w-[300px] cursor-pointer">
              <div class="card-body w-full h-full p-0 relative">
                <div class="w-full h-full lg:max-h-[250px]">
                  <img src="{% if item.file_foto %}
                      {{ item.file_foto.url }}
                    {% else %}
                      {% static 'images/embung1.png' %}
                    {% endif %}"
                    class="w-full h-full object-cover"
                    alt="" />
                </div>

                <div class="absolute w-full h-full inset-0 bg-linear-to-t from-primary-color/70 to-primary-color/10">
                  <div class="flex flex-col items-start h-full w-full justify-end py-8 px-4 text-gray-300 font-semibold">
                    <h3 class="text-accent-color text-lg lg:text-xl">{{ item.nama_embung }}</h3>
                    <p class="text-[14px] lg:text-base flex gap-1.5 items-center">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5 lg:size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
                      </svg>

                      {{ item.lokasi }}
                    </p>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
        <div class="w-full flex justify-center mt-7 px-4 md:px-0">
          <a href="{% url 'embung' %}" class="px-3 lg:px-5 py-2 rounded-2xl text-accent-color font-medium text-[14px] lg:text-base transition-all duration-200 ease-out hover:text-primary-color">Selengkapnya >>></a>
        </div>
      </div>
    </div>
  </section>

  {% comment %}Data Ketersediaan Air{% endcomment %}
  <section class="container mx-auto my-10 w-full md:container md:px-4 lg:max-w-6xl">
    <h3 class="text-lg text-accent-color font-bold tracking-wider text-center uppercase">Ketersediaan Air</h3>
    <div class="px-4 lg:px-0 mt-7 rounded-md overflow-hidden w-full">
      <div class="relative overflow-x-auto">
        <table class="w-full text-sm text-left rtl:text-right text-gray-500">
          <thead class="text-base text-gray-700 uppercase bg-gray-400 text-center">
            <tr>
              <th scope="col" class="px-6 py-2">No</th>
              <th scope="col" class="px-6 py-2">Dokumen</th>
              <th scope="col" class="px-6 py-2">Tahun</th>
              <th scope="col" class="px-6 py-2">File</th>
            </tr>
          </thead>
          <tbody>
            {% for item in ketersediaanAir %}
              <tr class="bg-white border-b border-gray-200">
                <td class="px-6 py-4 text-center">{{ forloop.counter }}</td>
                <td class="px-6 py-4 text-center">{{ item.nama_dokumen|title }}</td>
                <td class="px-6 py-4 text-center">{{ item.th }}</td>
                <td class="px-6 py-4 text-red-700 text-center">
                  <a href="{{ item.file_dokumen.url }}" class="flex items-center justify-center gap-1">
                    <svg viewBox="64 64 896 896" focusable="false" data-icon="file-pdf" width="1em" height="1em" fill="currentColor" aria-hidden="true">
                      <path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2zM633.22 637.26c-15.18-.5-31.32.67-49.65 2.96-24.3-14.99-40.66-35.58-52.28-65.83l1.07-4.38 1.24-5.18c4.3-18.13 6.61-31.36 7.3-44.7.52-10.07-.04-19.36-1.83-27.97-3.3-18.59-16.45-29.46-33.02-30.13-15.45-.63-29.65 8-33.28 21.37-5.91 21.62-2.45 50.07 10.08 98.59-15.96 38.05-37.05 82.66-51.2 107.54-18.89 9.74-33.6 18.6-45.96 28.42-16.3 12.97-26.48 26.3-29.28 40.3-1.36 6.49.69 14.97 5.36 21.92 5.3 7.88 13.28 13 22.85 13.74 24.15 1.87 53.83-23.03 86.6-79.26 3.29-1.1 6.77-2.26 11.02-3.7l11.9-4.02c7.53-2.54 12.99-4.36 18.39-6.11 23.4-7.62 41.1-12.43 57.2-15.17 27.98 14.98 60.32 24.8 82.1 24.8 17.98 0 30.13-9.32 34.52-23.99 3.85-12.88.8-27.82-7.48-36.08-8.56-8.41-24.3-12.43-45.65-13.12zM385.23 765.68v-.36l.13-.34a54.86 54.86 0 015.6-10.76c4.28-6.58 10.17-13.5 17.47-20.87 3.92-3.95 8-7.8 12.79-12.12 1.07-.96 7.91-7.05 9.19-8.25l11.17-10.4-8.12 12.93c-12.32 19.64-23.46 33.78-33 43-3.51 3.4-6.6 5.9-9.1 7.51a16.43 16.43 0 01-2.61 1.42c-.41.17-.77.27-1.13.3a2.2 2.2 0 01-1.12-.15 2.07 2.07 0 01-1.27-1.91zM511.17 547.4l-2.26 4-1.4-4.38c-3.1-9.83-5.38-24.64-6.01-38-.72-15.2.49-24.32 5.29-24.32 6.74 0 9.83 10.8 10.07 27.05.22 14.28-2.03 29.14-5.7 35.65zm-5.81 58.46l1.53-4.05 2.09 3.8c11.69 21.24 26.86 38.96 43.54 51.31l3.6 2.66-4.39.9c-16.33 3.38-31.54 8.46-52.34 16.85 2.17-.88-21.62 8.86-27.64 11.17l-5.25 2.01 2.8-4.88c12.35-21.5 23.76-47.32 36.05-79.77zm157.62 76.26c-7.86 3.1-24.78.33-54.57-12.39l-7.56-3.22 8.2-.6c23.3-1.73 39.8-.45 49.42 3.07 4.1 1.5 6.83 3.39 8.04 5.55a4.64 4.64 0 01-1.36 6.31 6.7 6.7 0 01-2.17 1.28z"></path>
                    </svg><span class="text-gray-700 transition-all duration-200 ease-out hover:text-primary-color hover:font-semibold">Unduh</span>
                  </a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </section>
{% endblock %}
